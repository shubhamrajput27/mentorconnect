/* assets/js/app.js */
//Optimized Main Application JavaScript class MentorConnectApp{constructor(){this.theme=localStorage.getItem('theme')|| 'light';this.sidebarOpen=window.innerWidth > 768;this.cache=new Map();this.debounceTimers=new Map();this.observers=new Map();this.init();}init(){//Use requestAnimationFrame for smooth initialization requestAnimationFrame(()=>{this.initializeTheme();this.initializeSidebar();this.initializeSearch();this.initializeNotifications();this.initializeAnimations();this.bindEvents();this.initializeIntersectionObserver();this.initializePerformanceMonitoring();});}initializeTheme(){const themeToggle=document.querySelector('.theme-toggle');if(!themeToggle)return;//Load saved theme const savedTheme=localStorage.getItem('theme')|| 'light';document.documentElement.setAttribute('data-theme',savedTheme);this.updateThemeIcon(savedTheme);themeToggle.addEventListener('click',()=>{const currentTheme=document.documentElement.getAttribute('data-theme');const newTheme=currentTheme==='dark' ? 'light' : 'dark';//Add smooth transition document.documentElement.style.transition='all 0.3s ease';document.documentElement.setAttribute('data-theme',newTheme);localStorage.setItem('theme',newTheme);this.updateThemeIcon(newTheme);//Remove transition after animation setTimeout(()=>{document.documentElement.style.transition='';},300);});}updateThemeIcon(theme){const themeToggle=document.querySelector('.theme-toggle');if(themeToggle){const icon=themeToggle.querySelector('i');icon.className=theme==='dark' ? 'fas fa-sun' : 'fas fa-moon';}}toggleTheme(){this.theme=this.theme==='light' ? 'dark' : 'light';localStorage.setItem('theme',this.theme);document.documentElement.setAttribute('data-theme',this.theme);this.updateThemeIcon(this.theme);//Save theme preference to server this.saveThemePreference();}async saveThemePreference(){try{await fetch('/api/preferences.php',{method: 'POST',headers:{'Content-Type': 'application/json',},body: JSON.stringify({theme: this.theme})});}catch(error){console.error('Failed to save theme preference:',error);}}initializeSidebar(){const sidebar=document.querySelector('.sidebar');const mainContent=document.querySelector('.main-content');if(window.innerWidth <=768){sidebar?.classList.add('collapsed');mainContent?.classList.add('expanded');this.sidebarOpen=false;}}toggleSidebar(){const sidebar=document.querySelector('.sidebar');const mainContent=document.querySelector('.main-content');if(this.sidebarOpen){sidebar?.classList.add('collapsed');mainContent?.classList.add('expanded');}else{sidebar?.classList.remove('collapsed');mainContent?.classList.remove('expanded');}this.sidebarOpen=!this.sidebarOpen;}initializeSearch(){const searchInput=document.querySelector('.search-bar input');if(searchInput){searchInput.addEventListener('input',this.debounce((e)=>{this.performSearch(e.target.value);},300));}}async performSearch(query){if(query.length < 2){this.clearSearchResults();return;}//Check cache first const cacheKey=`search_${query}`;if(this.cache.has(cacheKey)){this.displaySearchResults(this.cache.get(cacheKey));return;}try{const controller=new AbortController();const timeoutId=setTimeout(()=> controller.abort(),5000);const response=await fetch(`/api/search.php?q=${encodeURIComponent(query)}`,{signal: controller.signal,headers:{'X-Requested-With': 'XMLHttpRequest'}});clearTimeout(timeoutId);if(!response.ok)throw new Error(`HTTP ${response.status}`);const results=await response.json();//Cache results for 5 minutes this.cache.set(cacheKey,results);setTimeout(()=> this.cache.delete(cacheKey),300000);this.displaySearchResults(results);}catch(error){if(error.name !=='AbortError'){console.error('Search failed:',error);this.showToast('Search failed. Please try again.','error');}}}displaySearchResults(results){//Implementation for search results display console.log('Search results:',results);}initializeNotifications(){this.loadNotifications();//Use exponential backoff for polling this.startNotificationPolling();}startNotificationPolling(interval=30000){const poll=async()=>{try{await this.loadNotifications();//Reset to normal interval on success setTimeout(poll,interval);}catch(error){//Exponential backoff on error const backoffInterval=Math.min(interval*2,300000);//Max 5 minutes console.warn(`Notification polling failed,retrying in ${backoffInterval/1000}s`);setTimeout(poll,backoffInterval);}};//Start polling setTimeout(poll,interval);}async loadNotifications(){try{const controller=new AbortController();const timeoutId=setTimeout(()=> controller.abort(),10000);const response=await fetch('/api/notifications.php?action=count',{signal: controller.signal,headers:{'X-Requested-With': 'XMLHttpRequest'}});clearTimeout(timeoutId);if(!response.ok)throw new Error(`HTTP ${response.status}`);const data=await response.json();if(data.success){this.updateNotificationBadge(data.unread_count);}}catch(error){if(error.name !=='AbortError'){console.error('Failed to load notifications:',error);throw error;}}}updateNotificationBadge(count){const badge=document.querySelector('.notification-badge');if(badge){if(count > 0){badge.textContent=count > 99 ? '99+' : count;badge.style.display='block';}else{badge.style.display='none';}}}bindEvents(){//Theme toggle document.addEventListener('click',(e)=>{if(e.target.closest('.theme-toggle')){this.toggleTheme();}});//Sidebar toggle document.addEventListener('click',(e)=>{if(e.target.closest('.menu-toggle')){this.toggleSidebar();}});//Search functionality const searchInput=document.querySelector('.search-input');if(searchInput){searchInput.addEventListener('input',(e)=>{this.handleSearch(e.target.value);});}//Add smooth page transitions this.initializePageTransitions();//Add hover animations to interactive elements this.initializeHoverEffects();//Close sidebar on mobile when clicking outside document.addEventListener('click',(e)=>{if(window.innerWidth <=768){const sidebar=document.querySelector('.sidebar');const menuToggle=document.querySelector('.menu-toggle');if(!sidebar?.contains(e.target)&& !menuToggle?.contains(e.target)){if(this.sidebarOpen){this.toggleSidebar();}}}});//Handle window resize window.addEventListener('resize',()=>{if(window.innerWidth > 768 && !this.sidebarOpen){this.toggleSidebar();}else if(window.innerWidth <=768 && this.sidebarOpen){this.toggleSidebar();}});//Form enhancements this.enhanceForms();}initializePageTransitions(){//Add smooth page transitions}initializeHoverEffects(){//Add hover animations to interactive elements}enhanceForms(){//Auto-resize textareas with throttling document.querySelectorAll('textarea').forEach(textarea=>{const resizeTextarea=this.throttle(()=>{textarea.style.height='auto';textarea.style.height=textarea.scrollHeight+'px';},100);textarea.addEventListener('input',resizeTextarea);});//Optimized file upload preview document.querySelectorAll('input[type="file"]').forEach(input=>{input.addEventListener('change',(e)=>{const file=e.target.files[0];if(file && file.type.startsWith('image/')){//Validate file size(max 10MB)if(file.size > 10*1024*1024){this.showToast('File size must be less than 10MB','error');input.value='';return;}const reader=new FileReader();reader.onload=(e)=>{const preview=document.querySelector('.file-preview');if(preview){const img=document.createElement('img');img.src=e.target.result;img.alt='Preview';img.style.cssText='max-width: 200px;border-radius: 8px;object-fit: cover;';img.loading='lazy';preview.innerHTML='';preview.appendChild(img);}};reader.readAsDataURL(file);}});});}//Utility methods showToast(message,type='info'){const toast=document.createElement('div');toast.className=`toast toast-${type}`;toast.innerHTML=` <div class="toast-content"> <i class="fas fa-${this.getToastIcon(type)}"></i> <span>${message}</span> </div> <button class="toast-close" onclick="this.parentElement.remove()"> <i class="fas fa-times"></i> </button> `;document.body.appendChild(toast);//Trigger animation setTimeout(()=>{toast.classList.add('show');toast.style.animation='slideInRight 0.3s ease-out';},100);//Remove after delay setTimeout(()=>{toast.style.animation='slideInRight 0.3s ease-in reverse';setTimeout(()=>{if(toast.parentElement){document.body.removeChild(toast);}},300);},4000);}getToastIcon(type){const icons={success: 'check-circle',error: 'exclamation-circle',warning: 'exclamation-triangle',info: 'info-circle'};return icons[type] || 'info-circle';}async makeRequest(url,options={}){const defaultOptions={headers:{'Content-Type': 'application/json','X-Requested-With': 'XMLHttpRequest'}};const mergedOptions={...defaultOptions,...options};try{const response=await fetch(url,mergedOptions);if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const contentType=response.headers.get('content-type');if(contentType && contentType.includes('application/json')){return await response.json();}else{return await response.text();}}catch(error){console.error('Request failed:',error);this.showToast('Request failed. Please try again.','error');throw error;}}formatDate(dateString){const date=new Date(dateString);const now=new Date();const diff=now-date;//Less than a minute if(diff < 60000){return 'just now';}//Less than an hour if(diff < 3600000){const minutes=Math.floor(diff/60000);return `${minutes}minute${minutes > 1 ? 's' : ''}ago`;}//Less than a day if(diff < 86400000){const hours=Math.floor(diff/3600000);return `${hours}hour${hours > 1 ? 's' : ''}ago`;}//Less than a week if(diff < 604800000){const days=Math.floor(diff/86400000);return `${days}day${days > 1 ? 's' : ''}ago`;}//Format as date return date.toLocaleDateString();}validateForm(form){const requiredFields=form.querySelectorAll('[required]');let isValid=true;requiredFields.forEach(field=>{if(!field.value.trim()){this.showFieldError(field,'This field is required');isValid=false;}else{this.clearFieldError(field);}});return isValid;}showFieldError(field,message){const formGroup=field.closest('.form-group');if(!formGroup)return;formGroup.classList.add('error');let errorElement=formGroup.querySelector('.error-message');if(!errorElement){errorElement=document.createElement('div');errorElement.className='error-message';field.parentNode.insertAdjacentElement('afterend',errorElement);}errorElement.innerHTML=`<i class="fas fa-exclamation-circle"></i> ${message}`;}clearFieldError(field){const formGroup=field.closest('.form-group');if(!formGroup)return;formGroup.classList.remove('error');const errorElement=formGroup.querySelector('.error-message');if(errorElement){errorElement.remove();}}//Utility methods for performance debounce(func,wait){return(...args)=>{const key=func.toString();clearTimeout(this.debounceTimers.get(key));this.debounceTimers.set(key,setTimeout(()=> func.apply(this,args),wait));};}throttle(func,limit){let inThrottle;return(...args)=>{if(!inThrottle){func.apply(this,args);inThrottle=true;setTimeout(()=> inThrottle=false,limit);}};}initializeIntersectionObserver(){//Lazy load images and animations const imageObserver=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){const img=entry.target;if(img.dataset.src){img.src=img.dataset.src;img.removeAttribute('data-src');imageObserver.unobserve(img);}}});},{rootMargin: '50px'});document.querySelectorAll('img[data-src]').forEach(img=>{imageObserver.observe(img);});this.observers.set('images',imageObserver);}initializePerformanceMonitoring(){//Monitor performance metrics if('PerformanceObserver' in window){const observer=new PerformanceObserver((list)=>{list.getEntries().forEach((entry)=>{if(entry.entryType==='navigation'){console.log('Page Load Time:',entry.loadEventEnd-entry.loadEventStart);}});});observer.observe({entryTypes: ['navigation']});}}clearSearchResults(){const resultsContainer=document.querySelector('.search-results');if(resultsContainer){resultsContainer.innerHTML='';}}//Cleanup method destroy(){//Clear all timers this.debounceTimers.forEach(timer=> clearTimeout(timer));this.debounceTimers.clear();//Disconnect observers this.observers.forEach(observer=> observer.disconnect());this.observers.clear();//Clear cache this.cache.clear();}}//Optimized app initialization if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',initializeApp);}else{initializeApp();}function initializeApp(){//Initialize app with error handling try{window.mentorConnectApp=new MentorConnectApp();//Add loading animation document.body.classList.add('loaded');//Preload critical resources preloadCriticalResources();}catch(error){console.error('Failed to initialize app:',error);//Fallback for basic functionality initializeFallback();}}function preloadCriticalResources(){//Preload important API endpoints const criticalEndpoints=[ '/api/notifications.php?action=count','/api/user-preferences.php' ];criticalEndpoints.forEach(url=>{const link=document.createElement('link');link.rel='prefetch';link.href=url;document.head.appendChild(link);});}function initializeFallback(){//Basic theme toggle fallback const themeToggle=document.querySelector('.theme-toggle');if(themeToggle){themeToggle.addEventListener('click',()=>{const currentTheme=document.documentElement.getAttribute('data-theme');const newTheme=currentTheme==='dark' ? 'light' : 'dark';document.documentElement.setAttribute('data-theme',newTheme);localStorage.setItem('theme',newTheme);});}}//Add optimized CSS for new animations if(!document.querySelector('#app-styles')){const style=document.createElement('style');style.id='app-styles';style.textContent=` .animate-fade-in{animation: fadeIn 0.6s ease-out forwards;}.animate-slide-in{animation: slideInLeft 0.4s ease-out forwards;}.ripple{position: absolute;border-radius: 50%;background: rgba(255,255,255,0.3);transform: scale(0);animation: ripple-animation 0.6s linear;pointer-events: none;}@keyframes ripple-animation{to{transform: scale(2);opacity: 0;}}.theme-transitioning*{transition: background-color 0.3s ease,color 0.3s ease,border-color 0.3s ease !important;}.toast{position: fixed;top: 20px;right: 20px;background: var(--card-color);border: 1px solid var(--border-color);border-radius: var(--radius-lg);padding: var(--spacing-md);box-shadow: var(--shadow-lg);z-index: 10000;transform: translateX(100%);opacity: 0;transition: all 0.3s ease;max-width: 300px;}.toast.show{transform: translateX(0);opacity: 1;}.toast-content{display: flex;align-items: center;gap: var(--spacing-sm);}.toast-close{position: absolute;top: 8px;right: 8px;background: none;border: none;color: var(--text-muted);cursor: pointer;padding: 4px;border-radius: 4px;}.toast-close:hover{background: var(--surface-color);color: var(--text-primary);}.toast-success{border-left: 4px solid var(--success-color);}.toast-error{border-left: 4px solid var(--error-color);}.toast-warning{border-left: 4px solid var(--warning-color);}.toast-info{border-left: 4px solid var(--info-color);}`;document.head.appendChild(style);}

/* assets/js/landing.js */
//Landing Page JavaScript-Optimized class LandingPage{constructor(){this.init();}init(){this.initializeTheme();this.initializeNavigation();this.initializeSmoothScrolling();this.initializeAnimations();this.bindEvents();}initializeTheme(){const savedTheme=localStorage.getItem('theme')|| 'light';const html=document.documentElement;html.setAttribute('data-theme',savedTheme);//Wait for DOM to be ready if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',()=>{this.updateThemeIcon(savedTheme);});}else{this.updateThemeIcon(savedTheme);}}updateThemeIcon(theme){const themeIcon=document.getElementById('theme-icon');if(themeIcon){themeIcon.className=theme==='dark' ? 'fas fa-sun' : 'fas fa-moon';}}toggleTheme(){const html=document.documentElement;const currentTheme=html.getAttribute('data-theme')|| 'light';const newTheme=currentTheme==='dark' ? 'light' : 'dark';//Add smooth transition html.style.transition='all 0.3s ease';html.setAttribute('data-theme',newTheme);localStorage.setItem('theme',newTheme);this.updateThemeIcon(newTheme);//Remove transition after animation setTimeout(()=>{html.style.transition='';},300);}initializeNavigation(){const mobileToggle=document.querySelector('.mobile-menu-toggle');const navLinks=document.querySelector('.nav-links');if(mobileToggle && navLinks){mobileToggle.addEventListener('click',()=>{navLinks.classList.toggle('show');//Update icon const icon=mobileToggle.querySelector('i');if(icon){icon.className=navLinks.classList.contains('show')? 'fas fa-times' : 'fas fa-bars';}});//Close menu when clicking outside document.addEventListener('click',(e)=>{if(!mobileToggle.contains(e.target)&& !navLinks.contains(e.target)){navLinks.classList.remove('show');const icon=mobileToggle.querySelector('i');if(icon){icon.className='fas fa-bars';}}});//Close menu when clicking on links navLinks.querySelectorAll('a').forEach(link=>{link.addEventListener('click',()=>{navLinks.classList.remove('show');const icon=mobileToggle.querySelector('i');if(icon){icon.className='fas fa-bars';}});});}}initializeSmoothScrolling(){//Smooth scrolling for anchor links document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',(e)=>{e.preventDefault();const target=document.querySelector(anchor.getAttribute('href'));if(target){const offsetTop=target.offsetTop-80;//Account for fixed nav window.scrollTo({top: offsetTop,behavior: 'smooth'});}});});}initializeAnimations(){//Intersection Observer for animations const animateOnScroll=new IntersectionObserver((entries)=>{entries.forEach((entry)=>{if(entry.isIntersecting){entry.target.classList.add('animate-fade-in');animateOnScroll.unobserve(entry.target);}});},{threshold: 0.1,rootMargin: '0px 0px-50px 0px'});//Observe elements for animation const elementsToAnimate=document.querySelectorAll('.feature-card,.step,.hero-content,.section-header');elementsToAnimate.forEach((el)=>{animateOnScroll.observe(el);});//Add stagger animation to feature cards const featureCards=document.querySelectorAll('.feature-card');featureCards.forEach((card,index)=>{card.style.animationDelay=`${index*0.1}s`;});//Add stagger animation to steps const steps=document.querySelectorAll('.step');steps.forEach((step,index)=>{step.style.animationDelay=`${index*0.2}s`;});}bindEvents(){//Theme toggle document.addEventListener('click',(e)=>{if(e.target.closest('.theme-toggle')){this.toggleTheme();}});//Add scroll effect to navigation let lastScroll=0;window.addEventListener('scroll',()=>{const currentScroll=window.pageYOffset;const nav=document.querySelector('.landing-nav');if(nav){if(currentScroll > lastScroll && currentScroll > 100){//Scrolling down nav.style.transform='translateY(-100%)';}else{//Scrolling up nav.style.transform='translateY(0)';}//Add background blur when scrolled if(currentScroll > 50){nav.classList.add('scrolled');}else{nav.classList.remove('scrolled');}}lastScroll=currentScroll;});//Add parallax effect to hero background window.addEventListener('scroll',()=>{const scrolled=window.pageYOffset;const hero=document.querySelector('.hero');if(hero){const rate=scrolled*-0.5;hero.style.transform=`translateY(${rate}px)`;}});//Add hover effects with performance optimization this.addHoverEffects();}addHoverEffects(){//Use event delegation for better performance document.addEventListener('mouseenter',(e)=>{if(e.target.closest('.feature-card')){this.addRippleEffect(e.target.closest('.feature-card'),e);}},true);//Button ripple effects document.addEventListener('click',(e)=>{if(e.target.closest('.btn')){this.addButtonRipple(e.target.closest('.btn'),e);}});}addRippleEffect(element,event){const ripple=document.createElement('div');const rect=element.getBoundingClientRect();const size=Math.max(rect.width,rect.height);const x=event.clientX-rect.left-size/2;const y=event.clientY-rect.top-size/2;ripple.style.width=ripple.style.height=size+'px';ripple.style.left=x+'px';ripple.style.top=y+'px';ripple.classList.add('ripple-effect');element.appendChild(ripple);setTimeout(()=>{ripple.remove();},600);}addButtonRipple(button,event){const ripple=document.createElement('span');const rect=button.getBoundingClientRect();const size=Math.max(rect.width,rect.height);const x=event.clientX-rect.left-size/2;const y=event.clientY-rect.top-size/2;ripple.style.cssText=` position: absolute;border-radius: 50%;background: rgba(255,255,255,0.3);width: ${size}px;height: ${size}px;left: ${x}px;top: ${y}px;transform: scale(0);animation: ripple 0.6s linear;pointer-events: none;`;button.style.position='relative';button.style.overflow='hidden';button.appendChild(ripple);setTimeout(()=>{ripple.remove();},600);}//Performance optimization methods debounce(func,wait){let timeout;return function executedFunction(...args){const later=()=>{clearTimeout(timeout);func(...args);};clearTimeout(timeout);timeout=setTimeout(later,wait);};}throttle(func,limit){let inThrottle;return function(){const args=arguments;const context=this;if(!inThrottle){func.apply(context,args);inThrottle=true;setTimeout(()=> inThrottle=false,limit);}};}}//Initialize when DOM is ready if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',()=>{new LandingPage();});}else{new LandingPage();}//Add CSS for new animations if(!document.querySelector('#landing-animations')){const style=document.createElement('style');style.id='landing-animations';style.textContent=` .animate-fade-in{opacity: 0;transform: translateY(30px);animation: fadeInUp 0.6s ease-out forwards;}@keyframes fadeInUp{to{opacity: 1;transform: translateY(0);}}@keyframes ripple{to{transform: scale(4);opacity: 0;}}.ripple-effect{position: absolute;border-radius: 50%;background: rgba(255,255,255,0.2);transform: scale(0);animation: ripple 0.6s linear;pointer-events: none;}.landing-nav{transition: transform 0.3s ease,background-color 0.3s ease;}.landing-nav.scrolled{background: rgba(255,255,255,0.98);box-shadow: var(--shadow-md);}[data-theme="dark"] .landing-nav.scrolled{background: rgba(15,23,42,0.98);}@media(prefers-reduced-motion: reduce){.animate-fade-in{animation: none;opacity: 1;transform: none;}.hero{transform: none !important;}}`;document.head.appendChild(style);}//Global function for backward compatibility window.toggleTheme=function(){if(window.landingPage){window.landingPage.toggleTheme();}};//Export for module systems if(typeof module !=='undefined' && module.exports){module.exports=LandingPage;}

/* assets/js/auth.js */
//Authentication JavaScript functionality document.addEventListener('DOMContentLoaded',function(){initializeAuthForm();initializePasswordValidation();initializeFormValidation();});function initializeAuthForm(){const loginForm=document.getElementById('loginForm');const signupForm=document.getElementById('signupForm');if(loginForm){loginForm.addEventListener('submit',handleLoginSubmit);}if(signupForm){signupForm.addEventListener('submit',handleSignupSubmit);}}function handleLoginSubmit(e){const form=e.target;const submitBtn=form.querySelector('button[type="submit"]');//Add loading state submitBtn.classList.add('loading');submitBtn.disabled=true;//Form will submit normally,but we show loading state setTimeout(()=>{if(submitBtn){submitBtn.classList.remove('loading');submitBtn.disabled=false;}},3000);}function handleSignupSubmit(e){const form=e.target;const submitBtn=form.querySelector('button[type="submit"]');//Validate passwords match const password=form.querySelector('#password').value;const confirmPassword=form.querySelector('#confirm_password').value;if(password !==confirmPassword){e.preventDefault();showFieldError('confirm_password','Passwords do not match');return;}//Add loading state submitBtn.classList.add('loading');submitBtn.disabled=true;//Form will submit normally,but we show loading state setTimeout(()=>{if(submitBtn){submitBtn.classList.remove('loading');submitBtn.disabled=false;}},3000);}function initializePasswordValidation(){const passwordInput=document.getElementById('password');const confirmPasswordInput=document.getElementById('confirm_password');if(passwordInput){passwordInput.addEventListener('input',function(){validatePasswordStrength(this.value);});}if(confirmPasswordInput){confirmPasswordInput.addEventListener('input',function(){validatePasswordMatch();});}}function validatePasswordStrength(password){const strengthIndicator=document.getElementById('passwordStrength');if(!strengthIndicator)return;let strength=0;let feedback=[];//Length check if(password.length >=8)strength++;else feedback.push('At least 8 characters');//Uppercase check if(/[A-Z]/.test(password))strength++;else feedback.push('One uppercase letter');//Lowercase check if(/[a-z]/.test(password))strength++;else feedback.push('One lowercase letter');//Number check if(/\d/.test(password))strength++;else feedback.push('One number');//Special character check if(/[!@#$%^&*(),.?":{}|<>]/.test(password))strength++;else feedback.push('One special character');//Update strength indicator strengthIndicator.className='password-strength';if(password.length===0){strengthIndicator.style.display='none';}else{strengthIndicator.style.display='block';if(strength < 3){strengthIndicator.classList.add('weak');strengthIndicator.innerHTML='<small style="color: var(--error-color);">Weak-Missing: '+feedback.join(',')+'</small>';}else if(strength < 5){strengthIndicator.classList.add('medium');strengthIndicator.innerHTML='<small style="color: var(--warning-color);">Medium-Missing: '+feedback.join(',')+'</small>';}else{strengthIndicator.classList.add('strong');strengthIndicator.innerHTML='<small style="color: var(--success-color);">Strong password!</small>';}}}function validatePasswordMatch(){const password=document.getElementById('password').value;const confirmPassword=document.getElementById('confirm_password').value;const confirmGroup=document.getElementById('confirm_password').closest('.form-group');if(confirmPassword.length===0){clearFieldError('confirm_password');return;}if(password !==confirmPassword){showFieldError('confirm_password','Passwords do not match');}else{showFieldSuccess('confirm_password','Passwords match');}}function initializeFormValidation(){//Real-time email validation const emailInput=document.getElementById('email');if(emailInput){emailInput.addEventListener('blur',function(){validateEmail(this.value,'email');});}//Username validation const usernameInput=document.getElementById('username');if(usernameInput){usernameInput.addEventListener('blur',function(){validateUsername(this.value);});}//Phone validation const phoneInput=document.getElementById('phone');if(phoneInput){phoneInput.addEventListener('input',function(){formatPhoneNumber(this);});}}function validateEmail(email,fieldId){const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(email.length===0){clearFieldError(fieldId);return true;}if(!emailRegex.test(email)){showFieldError(fieldId,'Please enter a valid email address');return false;}else{showFieldSuccess(fieldId,'Valid email address');return true;}}function validateUsername(username){if(username.length===0){clearFieldError('username');return true;}if(username.length < 3){showFieldError('username','Username must be at least 3 characters');return false;}if(!/^[a-zA-Z0-9_]+$/.test(username)){showFieldError('username','Username can only contain letters,numbers,and underscores');return false;}showFieldSuccess('username','Valid username');return true;}function formatPhoneNumber(input){//Remove all non-digit characters let value=input.value.replace(/\D/g,'');//Format as(XXX)XXX-XXXX if(value.length >=6){value=value.replace(/(\d{3})(\d{3})(\d{0,4})/,'($1)$2-$3');}else if(value.length >=3){value=value.replace(/(\d{3})(\d{0,3})/,'($1)$2');}input.value=value;}function showFieldError(fieldId,message){const field=document.getElementById(fieldId);const formGroup=field.closest('.form-group');//Remove existing states formGroup.classList.remove('success');formGroup.classList.add('error');//Remove existing messages const existingMessage=formGroup.querySelector('.error-message,.success-message');if(existingMessage){existingMessage.remove();}//Add error message const errorDiv=document.createElement('div');errorDiv.className='error-message';errorDiv.innerHTML=`<i class="fas fa-exclamation-circle"></i> ${message}`;field.parentNode.insertAdjacentElement('afterend',errorDiv);}function showFieldSuccess(fieldId,message){const field=document.getElementById(fieldId);const formGroup=field.closest('.form-group');//Remove existing states formGroup.classList.remove('error');formGroup.classList.add('success');//Remove existing messages const existingMessage=formGroup.querySelector('.error-message,.success-message');if(existingMessage){existingMessage.remove();}//Add success message const successDiv=document.createElement('div');successDiv.className='success-message';successDiv.innerHTML=`<i class="fas fa-check-circle"></i> ${message}`;field.parentNode.insertAdjacentElement('afterend',successDiv);}function clearFieldError(fieldId){const field=document.getElementById(fieldId);const formGroup=field.closest('.form-group');formGroup.classList.remove('error','success');const existingMessage=formGroup.querySelector('.error-message,.success-message');if(existingMessage){existingMessage.remove();}}function togglePassword(fieldId){const field=document.getElementById(fieldId);const toggle=field.parentNode.querySelector('.password-toggle i');if(field.type==='password'){field.type='text';toggle.classList.remove('fa-eye');toggle.classList.add('fa-eye-slash');}else{field.type='password';toggle.classList.remove('fa-eye-slash');toggle.classList.add('fa-eye');}}//Auto-hide alerts after 5 seconds document.addEventListener('DOMContentLoaded',function(){const alerts=document.querySelectorAll('.alert');alerts.forEach(alert=>{setTimeout(()=>{alert.style.opacity='0';alert.style.transform='translateY(-10px)';setTimeout(()=>{alert.remove();},300);},5000);});});//Add smooth transitions to form elements document.addEventListener('DOMContentLoaded',function(){const inputs=document.querySelectorAll('input,textarea,select');inputs.forEach(input=>{input.addEventListener('focus',function(){this.parentNode.style.transform='translateY(-1px)';});input.addEventListener('blur',function(){this.parentNode.style.transform='translateY(0)';});});});

